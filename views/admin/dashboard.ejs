<%- include('../layouts/header.ejs')%>

<div class="container">
    <h1 id="home-h1">Dashboard</h1>
    

    <table
      style="
        border-collapse: collapse;
        width: 45%; /* Adjust the width as needed */
        
        margin: auto;
        border: 1px solid #ddd;
      "
    >

      <tr>
        <th style="border: 1px solid rgb(60, 46, 20); padding: 8px">Name</th>
        <th style="border: 1px solid rgb(60, 46, 20); padding: 8px">Email</th>
        <th style="border: 1px solid rgb(60, 46, 20); padding: 8px" colspan="2">Actions</th>
      </tr>
      <% if(users.length > 0) {
        for(let i = 0; i < users.length; i++) { %>
          <tr>
            <td style="border: 1px solid rgb(60, 46, 20); padding: 8px; font-weight: lighter; max-width: 150px; overflow: hidden; text-overflow: ellipsis;"><%= users[i].name %></td>
            <td style="border: 1px solid rgb(60, 46, 20); padding: 8px; font-weight: lighter; max-width: 150px; overflow: hidden; text-overflow: ellipsis;"><%= users[i].email %></td>
            <td style="border: 1px solid rgb(60, 46, 20); padding: 8px; font-weight: lighter;" ><a id="home-a" href="/admin/edit-user?id=<%= users[i]._id%>">Edit</a></td>
            <td style="border: 1px solid rgb(60, 46, 20); padding: 8px; font-weight: lighter;" ><a id="home-a" href="/admin/delete-user?id=<%= users[i]._id%>">Delete</a></td>
          </tr>
      <% }
        } else { %>
          <tr>
            <td colspan="5">Users not found</td>
          </tr>
      <% } %>

    </table>

    <a id="home-a" href="/admin/new-user"><h4>Add new user</h4></a>
    <a id="home-a" href="/admin/home"><h5>Go to Home</h5></a>
</div>

<%- include('../layouts/footer.ejs')%>
